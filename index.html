<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="GZQ Official Team">
<meta property="og:type" content="website">
<meta property="og:title" content="sunflower">
<meta property="og:url" content="http://lgy87.github.io/index.html">
<meta property="og:site_name" content="sunflower">
<meta property="og:description" content="GZQ Official Team">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="sunflower">
<meta name="twitter:description" content="GZQ Official Team">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://lgy87.github.io/"/>





  <title>sunflower</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">sunflower</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lgy87.github.io/2017/09/06/lodash-v4.17/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="王云甫 & 金卫娜 & 李光耀">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sunflower">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/06/lodash-v4.17/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-06T12:48:49+08:00">
                2017/09/06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="lodash-使用交流-v4-17-4"><a href="#lodash-使用交流-v4-17-4" class="headerlink" title="lodash 使用交流 v4.17.4"></a>lodash 使用交流 v4.17.4</h1><h3 id="329上函数-lodash-上统计的数"><a href="#329上函数-lodash-上统计的数" class="headerlink" title="329上函数 (lodash 上统计的数)"></a>329上函数 (lodash 上统计的数)</h3><h4 id="Array-65"><a href="#Array-65" class="headerlink" title="Array: 65"></a>Array: 65</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"chunk"</span>, <span class="string">"compact"</span>, <span class="string">"concat"</span>, <span class="string">"difference"</span>, <span class="string">"differenceBy"</span>, <span class="string">"differenceWith"</span>, <span class="string">"drop"</span>, <span class="string">"dropRight"</span>, <span class="string">"dropRightWhile"</span>, <span class="string">"dropWhile"</span>, <span class="string">"fill"</span>, <span class="string">"findIndex"</span>, <span class="string">"findLastIndex"</span>, <span class="string">"first"</span>, <span class="string">"flatten"</span>, <span class="string">"flattenDeep"</span>, <span class="string">"flattenDepth"</span>, <span class="string">"fromPairs"</span>, <span class="string">"head"</span>, <span class="string">"indexOf"</span>, <span class="string">"initial"</span>, <span class="string">"intersection"</span>, <span class="string">"intersectionBy"</span>, <span class="string">"intersectionWith"</span>, <span class="string">"join"</span>, <span class="string">"last"</span>, <span class="string">"lastIndexOf"</span>, <span class="string">"nth"</span>, <span class="string">"pull"</span>, <span class="string">"pullAll"</span>, <span class="string">"pullAllBy"</span>, <span class="string">"pullAllWith"</span>, <span class="string">"pullAt"</span>, <span class="string">"remove"</span>, <span class="string">"reverse"</span>, <span class="string">"slice"</span>, <span class="string">"sortedIndex"</span>, <span class="string">"sortedIndexBy"</span>, <span class="string">"sortedIndexOf"</span>, <span class="string">"sortedLastIndex"</span>, <span class="string">"sortedLastIndexBy"</span>, <span class="string">"sortedLastIndexOf"</span>, <span class="string">"sortedUniq"</span>, <span class="string">"sortedUniqBy"</span>, <span class="string">"tail"</span>, <span class="string">"take"</span>, <span class="string">"takeRight"</span>, <span class="string">"takeRightWhile"</span>, <span class="string">"takeWhile"</span>, <span class="string">"union"</span>, <span class="string">"unionBy"</span>, <span class="string">"unionWith"</span>, <span class="string">"uniq"</span>, <span class="string">"uniqBy"</span>, <span class="string">"uniqWith"</span>, <span class="string">"unzip"</span>, <span class="string">"unzipWith"</span>, <span class="string">"without"</span>, <span class="string">"xor"</span>, <span class="string">"xorBy"</span>, <span class="string">"xorWith"</span>, <span class="string">"zip"</span>, <span class="string">"zipObject"</span>, <span class="string">"zipObjectDeep"</span>, <span class="string">"zipWith"</span>]</div></pre></td></tr></table></figure>
<h4 id="Collection-28"><a href="#Collection-28" class="headerlink" title="Collection: 28"></a>Collection: 28</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"countBy"</span>, <span class="string">"each"</span>, <span class="string">"eachRight"</span>, <span class="string">"every"</span>, <span class="string">"filter"</span>, <span class="string">"find"</span>, <span class="string">"findLast"</span>, <span class="string">"flatMap"</span>, <span class="string">"flatMapDeep"</span>, <span class="string">"flatMapDepth"</span>, <span class="string">"forEach"</span>, <span class="string">"forEachRight"</span>, <span class="string">"groupBy"</span>, <span class="string">"includes"</span>, <span class="string">"invokeMap"</span>, <span class="string">"keyBy"</span>, <span class="string">"map"</span>, <span class="string">"orderBy"</span>, <span class="string">"partition"</span>, <span class="string">"reduce"</span>, <span class="string">"reduceRight"</span>, <span class="string">"reject"</span>, <span class="string">"sample"</span>, <span class="string">"sampleSize"</span>, <span class="string">"shuffle"</span>, <span class="string">"size"</span>, <span class="string">"some"</span>, <span class="string">"sortBy"</span>]</div></pre></td></tr></table></figure>
<h4 id="Date-1"><a href="#Date-1" class="headerlink" title="Date: 1"></a>Date: 1</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"now"</span>]</div></pre></td></tr></table></figure>
<h4 id="Fn-23"><a href="#Fn-23" class="headerlink" title="Fn: 23"></a>Fn: 23</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"after"</span>, <span class="string">"ary"</span>, <span class="string">"before"</span>, <span class="string">"bind"</span>, <span class="string">"bindKey"</span>, <span class="string">"curry"</span>, <span class="string">"curryRight"</span>, <span class="string">"debounce"</span>, <span class="string">"defer"</span>, <span class="string">"delay"</span>, <span class="string">"flip"</span>, <span class="string">"memoize"</span>, <span class="string">"negate"</span>, <span class="string">"once"</span>, <span class="string">"overArgs"</span>, <span class="string">"partial"</span>, <span class="string">"partialRight"</span>, <span class="string">"rearg"</span>, <span class="string">"rest"</span>, <span class="string">"spread"</span>, <span class="string">"throttle"</span>, <span class="string">"unary"</span>, <span class="string">"wrap"</span>]</div></pre></td></tr></table></figure>
<h4 id="Lang-56"><a href="#Lang-56" class="headerlink" title="Lang: 56"></a>Lang: 56</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"castArray"</span>, <span class="string">"clone"</span>, <span class="string">"cloneDeep"</span>, <span class="string">"cloneDeepWith"</span>, <span class="string">"cloneWith"</span>, <span class="string">"conformsTo"</span>, <span class="string">"eq"</span>, <span class="string">"gt"</span>, <span class="string">"gte"</span>, <span class="string">"isArguments"</span>, <span class="string">"isArray"</span>, <span class="string">"isArrayBuffer"</span>, <span class="string">"isArrayLike"</span>, <span class="string">"isArrayLikeObject"</span>, <span class="string">"isBoolean"</span>, <span class="string">"isBuffer"</span>, <span class="string">"isDate"</span>, <span class="string">"isElement"</span>, <span class="string">"isEmpty"</span>, <span class="string">"isEqual"</span>, <span class="string">"isEqualWith"</span>, <span class="string">"isError"</span>, <span class="string">"isFinite"</span>, <span class="string">"isFunction"</span>, <span class="string">"isInteger"</span>, <span class="string">"isLength"</span>, <span class="string">"isMap"</span>, <span class="string">"isMatch"</span>, <span class="string">"isMatchWith"</span>, <span class="string">"isNaN"</span>, <span class="string">"isNative"</span>, <span class="string">"isNil"</span>, <span class="string">"isNull"</span>, <span class="string">"isNumber"</span>, <span class="string">"isObject"</span>, <span class="string">"isObjectLike"</span>, <span class="string">"isPlainObject"</span>, <span class="string">"isRegExp"</span>, <span class="string">"isSafeInteger"</span>, <span class="string">"isSet"</span>, <span class="string">"isString"</span>, <span class="string">"isSymbol"</span>, <span class="string">"isTypedArray"</span>, <span class="string">"isUndefined"</span>, <span class="string">"isWeakMap"</span>, <span class="string">"isWeakSet"</span>, <span class="string">"lt"</span>, <span class="string">"lte"</span>, <span class="string">"toArray"</span>, <span class="string">"toFinite"</span>, <span class="string">"toInteger"</span>, <span class="string">"toLength"</span>, <span class="string">"toNumber"</span>, <span class="string">"toPlainObject"</span>, <span class="string">"toSafeInteger"</span>, <span class="string">"toString"</span>]</div></pre></td></tr></table></figure>
<h4 id="Math-15"><a href="#Math-15" class="headerlink" title="Math: 15"></a>Math: 15</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"add"</span>, <span class="string">"ceil"</span>, <span class="string">"divide"</span>, <span class="string">"floor"</span>, <span class="string">"max"</span>, <span class="string">"maxBy"</span>, <span class="string">"mean"</span>, <span class="string">"meanBy"</span>, <span class="string">"min"</span>, <span class="string">"minBy"</span>, <span class="string">"multiply"</span>, <span class="string">"round"</span>, <span class="string">"subtract"</span>, <span class="string">"sum"</span>, <span class="string">"sumBy"</span>]</div></pre></td></tr></table></figure>
<h4 id="Number-3"><a href="#Number-3" class="headerlink" title="Number: 3"></a>Number: 3</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"clamp"</span>, <span class="string">"inRange"</span>, <span class="string">"random"</span>]</div></pre></td></tr></table></figure>
<h4 id="Object-47"><a href="#Object-47" class="headerlink" title="Object: 47"></a>Object: 47</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"assign"</span>, <span class="string">"assignIn"</span>, <span class="string">"assignInWith"</span>, <span class="string">"assignWith"</span>, <span class="string">"at"</span>, <span class="string">"create"</span>, <span class="string">"defaults"</span>, <span class="string">"defaultsDeep"</span>, <span class="string">"entries"</span>, <span class="string">"entriesIn"</span>, <span class="string">"extend"</span>, <span class="string">"extendWith"</span>, <span class="string">"findKey"</span>, <span class="string">"findLastKey"</span>, <span class="string">"forIn"</span>, <span class="string">"forInRight"</span>, <span class="string">"forOwn"</span>, <span class="string">"forOwnRight"</span>, <span class="string">"functions"</span>, <span class="string">"functionsIn"</span>, <span class="string">"get"</span>, <span class="string">"has"</span>, <span class="string">"hasIn"</span>, <span class="string">"invert"</span>, <span class="string">"invertBy"</span>, <span class="string">"invoke"</span>, <span class="string">"keys"</span>, <span class="string">"keysIn"</span>, <span class="string">"mapKeys"</span>, <span class="string">"mapValues"</span>, <span class="string">"merge"</span>, <span class="string">"mergeWith"</span>, <span class="string">"omit"</span>, <span class="string">"omitBy"</span>, <span class="string">"pick"</span>, <span class="string">"pickBy"</span>, <span class="string">"result"</span>, <span class="string">"set"</span>, <span class="string">"setWith"</span>, <span class="string">"toPairs"</span>, <span class="string">"toPairsIn"</span>, <span class="string">"transform"</span>, <span class="string">"unset"</span>, <span class="string">"update"</span>, <span class="string">"updateWith"</span>, <span class="string">"values"</span>, <span class="string">"valuesIn"</span>]</div></pre></td></tr></table></figure>
<h4 id="Seq-14"><a href="#Seq-14" class="headerlink" title="Seq: 14"></a>Seq: 14</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"at"</span>, <span class="string">"chain"</span>, <span class="string">"commit"</span>, <span class="string">"lodash"</span>, <span class="string">"next"</span>, <span class="string">"plant"</span>, <span class="string">"reverse"</span>, <span class="string">"tap"</span>, <span class="string">"thru"</span>, <span class="string">"toIterator"</span>, <span class="string">"toJSON"</span>, <span class="string">"value"</span>, <span class="string">"valueOf"</span>, <span class="string">"wrapperChain"</span>]</div></pre></td></tr></table></figure>
<h4 id="String-31"><a href="#String-31" class="headerlink" title="String: 31"></a>String: 31</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"camelCase"</span>, <span class="string">"capitalize"</span>, <span class="string">"deburr"</span>, <span class="string">"endsWith"</span>, <span class="string">"escape"</span>, <span class="string">"escapeRegExp"</span>, <span class="string">"kebabCase"</span>, <span class="string">"lowerCase"</span>, <span class="string">"lowerFirst"</span>, <span class="string">"pad"</span>, <span class="string">"padEnd"</span>, <span class="string">"padStart"</span>, <span class="string">"parseInt"</span>, <span class="string">"repeat"</span>, <span class="string">"replace"</span>, <span class="string">"snakeCase"</span>, <span class="string">"split"</span>, <span class="string">"startCase"</span>, <span class="string">"startsWith"</span>, <span class="string">"template"</span>, <span class="string">"templateSettings"</span>, <span class="string">"toLower"</span>, <span class="string">"toUpper"</span>, <span class="string">"trim"</span>, <span class="string">"trimEnd"</span>, <span class="string">"trimStart"</span>, <span class="string">"truncate"</span>, <span class="string">"unescape"</span>, <span class="string">"upperCase"</span>, <span class="string">"upperFirst"</span>, <span class="string">"words"</span>]</div></pre></td></tr></table></figure>
<h4 id="Util-32"><a href="#Util-32" class="headerlink" title="Util: 32"></a>Util: 32</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"attempt"</span>, <span class="string">"bindAll"</span>, <span class="string">"cond"</span>, <span class="string">"conforms"</span>, <span class="string">"constant"</span>, <span class="string">"defaultTo"</span>, <span class="string">"flow"</span>, <span class="string">"flowRight"</span>, <span class="string">"identity"</span>, <span class="string">"iteratee"</span>, <span class="string">"matches"</span>, <span class="string">"matchesProperty"</span>, <span class="string">"method"</span>, <span class="string">"methodOf"</span>, <span class="string">"mixin"</span>, <span class="string">"noop"</span>, <span class="string">"nthArg"</span>, <span class="string">"over"</span>, <span class="string">"overEvery"</span>, <span class="string">"overSome"</span>, <span class="string">"property"</span>, <span class="string">"propertyOf"</span>, <span class="string">"range"</span>, <span class="string">"rangeRight"</span>, <span class="string">"stubArray"</span>, <span class="string">"stubFalse"</span>, <span class="string">"stubObject"</span>, <span class="string">"stubString"</span>, <span class="string">"stubTrue"</span>, <span class="string">"times"</span>, <span class="string">"toPath"</span>, <span class="string">"uniqueId"</span>]</div></pre></td></tr></table></figure>
<h4 id="Properties-7"><a href="#Properties-7" class="headerlink" title="Properties: 7"></a>Properties: 7</h4><h4 id="Methods-1"><a href="#Methods-1" class="headerlink" title="Methods: 1"></a>Methods: 1</h4><h3 id="伪码-lodash中的predicate支持的4种形式"><a href="#伪码-lodash中的predicate支持的4种形式" class="headerlink" title="伪码 (lodash中的predicate支持的4种形式)"></a>伪码 (lodash中的predicate支持的4种形式)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> users = [</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'barney'</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'fred'</span>,    <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'pebbles'</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">const</span> actived = users.filter(<span class="function"><span class="keyword">function</span> (<span class="params">user</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> user.active</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 简写: 只输入一个key</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">property</span> (<span class="params">prop</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> obj[prop]</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFilter1</span> (<span class="params">seq, prop</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> seq.filter(property(prop))</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> users = [</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'barney'</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'fred'</span>,    <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'pebbles'</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">const</span> myActived = myFilter1(users, <span class="string">"active"</span>)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 简写: 可以输入一个数组(第一个值是key, 第二个是value)</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchesProperty</span> (<span class="params">prop, value</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> obj[prop] === value</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFilter2</span> (<span class="params">seq, values</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> seq.filter(matchesProperty(values[<span class="number">0</span>], values[<span class="number">1</span>]))</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> users = [</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'barney'</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'fred'</span>,    <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'pebbles'</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">const</span> fred1 = myFilter2(users, [<span class="string">"user"</span>, <span class="string">"fred"</span>])</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 简写: 可以输入一个对象(匹配所有的key)</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">matches</span> (<span class="params">sources</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Reflect</span></div><div class="line">      .ownKeys(sources)</div><div class="line">      .every(<span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> obj[key] === sources[key]</div><div class="line">      &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> users = [</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'barney'</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'fred'</span>,    <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'pebbles'</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFilter3</span> (<span class="params">seq, sources</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> seq.filter(matches(sources))</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> fred2 = myFilter3(users, &#123;<span class="attr">user</span>: <span class="string">"fred"</span>&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 综合</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter</span> (<span class="params">seq, arg</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (isFunction(arg)) &#123;</div><div class="line">    <span class="keyword">return</span> seq.filter(arg)</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (isString(arg)) &#123;</div><div class="line">    <span class="keyword">return</span> seq.filter(property(arg))</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (isArray(arg)) &#123;    </div><div class="line">  	<span class="keyword">return</span> seq.filter(matchesProperty(values[<span class="number">0</span>], values[<span class="number">1</span>]))</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (isPlainObject(arg)) &#123;    </div><div class="line">  	<span class="keyword">return</span> seq.filter(matches(arg))</div><div class="line">  &#125;</div><div class="line">  <span class="comment">//</span></div><div class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(...)</div><div class="line">&#125;</div><div class="line">                  </div><div class="line"><span class="keyword">const</span> users = [</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'barney'</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'fred'</span>,    <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'pebbles'</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;</div><div class="line">]</div><div class="line"></div><div class="line">filter(users, &#123;<span class="attr">user</span>: <span class="string">"fred"</span>, <span class="attr">active</span>: <span class="literal">true</span>&#125;) <span class="comment">// []</span></div><div class="line">filter(users, [<span class="string">"user"</span>, <span class="string">"fred"</span>])             <span class="comment">// fred</span></div><div class="line">filter(users, <span class="string">"user"</span>)                       <span class="comment">// the all</span></div><div class="line">filter(users, user =&gt; user.active)          <span class="comment">// barney</span></div></pre></td></tr></table></figure>
<h3 id="规律"><a href="#规律" class="headerlink" title="规律"></a>规律</h3><ol>
<li><p><strong>*In</strong> (包括prototype)<br><code>forIn, assignIn(extend), toPairsIn, functionsIn, hasIn, keysIn, valuesIn</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.a = <span class="number">1</span>;</div><div class="line">  <span class="keyword">this</span>.b = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">Foo.prototype.c = <span class="number">3</span>;</div><div class="line"> </div><div class="line">_.keysIn(<span class="keyword">new</span> Foo())  <span class="comment">// ["a", "b", "c"]</span></div><div class="line">_.keys(<span class="keyword">new</span> Foo())    <span class="comment">// ["a", "b"]</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>*Own</strong> (忽略prototype)<br><code>forOwn</code></p>
</li>
<li><p><strong>*Right</strong> (从右边开始)<br><code>dropRight, dropRightWhile, takeRight, takeRightWhile, forEachRight, reduceRight, curryRight, partialRight, forInRight, forOwnRight, flowRight, rangeRight</code></p>
</li>
<li><p><strong>*While</strong> (需要 predicate)<br><code>dropRightWhile, dropWhile, takeRightWhile, takeWhile</code></p>
</li>
<li><p><strong>*Deep</strong> (深度xx)<br><code>flattenDeep, zipObjectDeep, flatMapDeep, cloneDeep, cloneDeepWith, defaultsDeep</code></p>
</li>
<li><p><strong>*Depth</strong> (指定深度)<br><code>flattenDepth, flatMapDepth</code></p>
</li>
<li><p><strong>*By</strong> (需要的predicate的参数为1)<br><code>differenceBy, intersectionBy, pullAllBy, sortedIndexBy, sortedLastIndexBy, sortedUniqBy, unionBy, uniqBy, xorBy, countBy, groupBy, keyBy, orderBy, sortBy, maxBy, meanBy, minBy, sumBy, invertBy, omitBy, pickBy</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> objects = [&#123; <span class="string">'n'</span>: <span class="number">1</span> &#125;, &#123; <span class="string">'n'</span>: <span class="number">2</span> &#125;];</div><div class="line"> </div><div class="line">_.maxBy(objects, <span class="function"><span class="keyword">function</span>(<span class="params">o</span>) </span>&#123; <span class="keyword">return</span> o.n; &#125;);  <span class="comment">// &#123;n: 2&#125;</span></div><div class="line">_.maxBy(objects, <span class="string">"n"</span>)                           <span class="comment">// ditto</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>*With</strong> (需要的predicate的参数为2)<br><code>differenceWith, intersectionWith, pullAllWith, unionWith, uniqWith, unzipWith, xorWith, zipWith, cloneDeepWith, cloneWith, isEqualWith, isMatchWith, assignInWith, assignWith, mergeWith, setWith, updateWith</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> components = [</div><div class="line">  &#123;</div><div class="line">    <span class="string">"id"</span>:<span class="string">"51cc2640aa524160bfec9721d7e14e6d"</span>,</div><div class="line">    <span class="string">"title"</span>:<span class="string">"数字输入框"</span>,</div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="string">"id"</span>:<span class="string">"113acd36b33f45b68a6a6a5ee6b17df0"</span>,</div><div class="line">    <span class="string">"title"</span>:<span class="string">"日期"</span>,</div><div class="line">  &#125;, </div><div class="line">  &#123;</div><div class="line">    <span class="string">"id"</span>:<span class="string">"bff3e45c1512450eb49be7284376c8c9"</span>,</div><div class="line">    <span class="string">"type"</span>:<span class="string">"Group"</span>,</div><div class="line">    <span class="string">"components"</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="string">"id"</span>:<span class="string">"ea7a2c08b3bd44e082eb4468544df2f4"</span>,</div><div class="line">        <span class="string">"title"</span>:<span class="string">"数字输入框1"</span>,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="string">"id"</span>:<span class="string">"28288413555a4ce08200497a6b87dcec"</span>,</div><div class="line">        <span class="string">"title"</span>:<span class="string">"开始时间"</span>,</div><div class="line">        <span class="string">"title2"</span>:<span class="string">"结束时间"</span>,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="string">"id"</span>:<span class="string">"dc0678f6281a41cea421712220508005"</span>,</div><div class="line">        <span class="string">"title"</span>:<span class="string">"单行输入框"</span>,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="string">"id"</span>:<span class="string">"1a5953f3cc61420c91181723d7d4f4b5"</span>,</div><div class="line">        <span class="string">"title"</span>:<span class="string">"图片"</span>,</div><div class="line">      &#125;,</div><div class="line">    ],</div><div class="line">  &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">const</span> occupiedComponentsByWorkflows = [</div><div class="line">  <span class="string">"28288413555a4ce08200497a6b87dcec"</span>,</div><div class="line">  <span class="string">"51cc2640aa524160bfec9721d7e14e6d"</span>,</div><div class="line">]</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isOccupiedByWorkflow</span> (<span class="params">component</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> occupiedComponentsByWorkflows.includes(component.id)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// --- 删除普通组件</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onRemoveComponent</span> (<span class="params">component</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (isOccupiedByWorkflow(component)) &#123;</div><div class="line">    <span class="comment">// return</span></div><div class="line">  &#125;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// --- 删除明细组件</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onRemoveComponent</span> (<span class="params">component</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (isOccupiedByWorkflow(component)) &#123;</div><div class="line">    <span class="comment">// return</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  <span class="keyword">if</span> (isGroup(component)) &#123;</div><div class="line">    <span class="keyword">const</span> subComponents = component.components</div><div class="line">    <span class="keyword">const</span> occupied = subComponents.some(isOccupiedByWorkflow)</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (occupied) &#123;</div><div class="line">      <span class="comment">// return</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ------------------ 如果我们想 找出哪些组件被占用了, 用于alert</span></div><div class="line"><span class="keyword">const</span> intersection = _.intersection(</div><div class="line">  components,</div><div class="line">  occupiedComponentsByWorkflows,</div><div class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">lhs, rhs</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> lhs.id === rhs</div><div class="line">  &#125;,</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
<li><p><strong>filter</strong> vs <strong>reject</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> users = [</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'barney'</span>,  <span class="string">'active'</span>: <span class="literal">true</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'fred'</span>,    <span class="string">'active'</span>: <span class="literal">false</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'pebbles'</span>, <span class="string">'active'</span>: <span class="literal">false</span> &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">const</span> onlyActive = _.filter(users, <span class="string">"active"</span>)</div><div class="line"></div><div class="line"><span class="keyword">const</span> users = [</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'barney'</span>,  <span class="string">'age'</span>: <span class="number">5</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'fred'</span>,    <span class="string">'age'</span>: <span class="number">0</span> &#125;,</div><div class="line">  &#123; <span class="string">'user'</span>: <span class="string">'pebbles'</span>, <span class="string">'age'</span>: <span class="number">42</span> &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">const</span> olderThanOneYearOld = _.filter(users, <span class="string">"age"</span>)</div><div class="line"><span class="keyword">const</span> zeroYearOld = _.filter(users, &#123;<span class="attr">age</span>: <span class="number">0</span>&#125;)</div><div class="line"><span class="keyword">const</span> zeroYearOld = _.reject(users, <span class="string">"age"</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>函数式编程中常用的函数</p>
<p><code>take, compose(flowRight), curry, partial</code></p>
</li>
</ol>
<h3 id="lodash-vs-lodash-fp"><a href="#lodash-vs-lodash-fp" class="headerlink" title="lodash vs lodash/fp"></a>lodash vs lodash/fp</h3><p>​    参数顺序, 不变性</p>
<h3 id="practice"><a href="#practice" class="headerlink" title="practice"></a>practice</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> list = [], virtualList = []</div><div class="line"></div><div class="line"><span class="comment">// 分组</span></div><div class="line">$.each(orgList, <span class="function"><span class="keyword">function</span>(<span class="params">index, item</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (item.isInitial == <span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (item.orgId == self.lastSelectedOrgId) &#123;   <span class="comment">// 副作用 (so bad)</span></div><div class="line">      curOrg = item;</div><div class="line">    &#125;</div><div class="line">    list.push(item);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    virtualList.push(item)</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// --- alternative</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> [list, virtualList] = _.partition(orgList, <span class="string">"isInitial"</span>)</div><div class="line"><span class="keyword">const</span> curOrg = _.find(list, &#123;<span class="attr">orgId</span>: self.lastSelectedOrgId&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> seq = [</div><div class="line">  instance1,</div><div class="line">  instance2,</div><div class="line">  <span class="comment">// ...</span></div><div class="line">]</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">resetAll</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  seq.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">instance</span>) </span>&#123;</div><div class="line">    instance.reset()</div><div class="line">  &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ---</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">resetAll</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  _.invokeMap(seq, <span class="string">"reset"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> components = [</div><div class="line">  &#123;</div><div class="line">    <span class="string">"id"</span>:<span class="string">"51cc2640aa524160bfec9721d7e14e6d"</span>,</div><div class="line">    <span class="string">"title"</span>:<span class="string">"数字输入框"</span>,</div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="string">"id"</span>:<span class="string">"113acd36b33f45b68a6a6a5ee6b17df0"</span>,</div><div class="line">    <span class="string">"title"</span>:<span class="string">"日期"</span>,</div><div class="line">  &#125;, </div><div class="line">  &#123;</div><div class="line">    <span class="string">"id"</span>:<span class="string">"bff3e45c1512450eb49be7284376c8c9"</span>,</div><div class="line">    <span class="string">"type"</span>:<span class="string">"Group"</span>,</div><div class="line">    <span class="string">"components"</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="string">"id"</span>:<span class="string">"ea7a2c08b3bd44e082eb4468544df2f4"</span>,</div><div class="line">        <span class="string">"title"</span>:<span class="string">"数字输入框1"</span>,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="string">"id"</span>:<span class="string">"28288413555a4ce08200497a6b87dcec"</span>,</div><div class="line">        <span class="string">"title"</span>:<span class="string">"开始时间"</span>,</div><div class="line">        <span class="string">"title2"</span>:<span class="string">"结束时间"</span>,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="string">"id"</span>:<span class="string">"dc0678f6281a41cea421712220508005"</span>,</div><div class="line">        <span class="string">"title"</span>:<span class="string">"单行输入框"</span>,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="string">"id"</span>:<span class="string">"1a5953f3cc61420c91181723d7d4f4b5"</span>,</div><div class="line">        <span class="string">"title"</span>:<span class="string">"图片"</span>,</div><div class="line">      &#125;,</div><div class="line">    ],</div><div class="line">  &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">const</span> flatten = _.flatMap(components, c =&gt; c.components ? c.components : c)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> array = [</div><div class="line">  &#123; <span class="string">'dir'</span>: <span class="string">'left'</span>, <span class="attr">id</span>: <span class="string">"214812384"</span>&#125;,</div><div class="line">  &#123; <span class="string">'dir'</span>: <span class="string">'right'</span>, <span class="attr">id</span>: <span class="string">"999"</span>&#125;</div><div class="line">];</div><div class="line"></div><div class="line">_.keyBy(array, <span class="string">"id"</span>)</div><div class="line"></div><div class="line"><span class="comment">// result</span></div><div class="line">&#123;</div><div class="line">  <span class="string">"999"</span>: &#123;</div><div class="line">    <span class="string">"dir"</span>: <span class="string">"right"</span>,</div><div class="line">    <span class="string">"id"</span>: <span class="string">"999"</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="string">"214812384"</span>: &#123;</div><div class="line">    <span class="string">"dir"</span>: <span class="string">"left"</span>,</div><div class="line">    <span class="string">"id"</span>: <span class="string">"214812384"</span>,</div><div class="line">  &#125;,</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lgy87.github.io/2017/09/03/Moving-mouseover-out-mouseenter-leave/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="王云甫 & 金卫娜 & 李光耀">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sunflower">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/03/Moving-mouseover-out-mouseenter-leave/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-03T11:36:00+08:00">
                2017/09/03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原文链接: <a href="https://javascript.info/mousemove-mouseover-mouseout-mouseenter-mouseleave#tasks" target="_blank" rel="external">https://javascript.info/mousemove-mouseover-mouseout-mouseenter-mouseleave#tasks</a></p>
<h1 id="Moving-mouseover-out-mouseenter-leave"><a href="#Moving-mouseover-out-mouseenter-leave" class="headerlink" title="Moving: mouseover/out, mouseenter/leave"></a>Moving: mouseover/out, mouseenter/leave</h1><p>当鼠标在DOM元素之间移动时, 会产生相应的鼠标事件. 现在让我们一起深入研究一下这些事件的细节.</p>
<h2 id="Mouseover-mouseout-relatedTarget"><a href="#Mouseover-mouseout-relatedTarget" class="headerlink" title="Mouseover/mouseout, relatedTarget"></a>Mouseover/mouseout, relatedTarget</h2><p>当鼠标移动到一个元素上面时, 产生 <strong>mouseover</strong> 事件; 当它离开元素时, 产生 <strong>mouseout</strong> 事件.</p>
<p><img src="../uploads/2017/11/mouseover-to-child@2x.png" alt="mouseover-to-child"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lgy87.github.io/2017/07/10/Javascript-Standard-Style/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="王云甫 & 金卫娜 & 李光耀">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sunflower">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/10/Javascript-Standard-Style/" itemprop="url">JavaScript Standard Style</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-10T15:14:30+08:00">
                2017/07/10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JavaScript-Standard-Style"><a href="#JavaScript-Standard-Style" class="headerlink" title="JavaScript Standard Style"></a>JavaScript Standard Style</h1><ul>
<li><p><strong>使用两个空格</strong>进行缩进。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/indent" target="_blank" rel="external"><code>indent</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span> (<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'hi'</span>, name)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>除需要转义的情况外，字符串统一使用<strong>单引号</strong>。</p>
<p>对于字符串构造的html，<strong>html属性</strong>优先使用<strong>双引号</strong>，而<strong>外围</strong>使用<strong>单引号</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/quotes" target="_blank" rel="external"><code>quotes</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="string">'hello there'</span>)</div><div class="line">$(<span class="string">'&lt;div class="box" /&gt;'</span>)</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要定义未使用的变量</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-unused-vars" target="_blank" rel="external"><code>no-unused-vars</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> result = something()   <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>关键字后面加空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/keyword-spacing" target="_blank" rel="external"><code>keyword-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (condition) &#123; ... &#125;   <span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">if</span>(condition) &#123; ... &#125;    <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>函数声明时括号与函数名间加空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/space-before-function-paren" target="_blank" rel="external"><code>space-before-function-paren</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">name</span> (<span class="params">arg</span>) </span>&#123; ... &#125;   <span class="comment">// ✓ ok </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">name</span>(<span class="params">arg</span>) </span>&#123; ... &#125;    <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line">run(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; ... &#125;)      <span class="comment">// ✓ ok </span></div><div class="line">run(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; ... &#125;)       <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>始终使用</strong> <code>===</code> 替代 <code>==</code>。<br>例外： <code>obj == null</code> 可以用来检查 <code>null || undefined</code>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/eqeqeq" target="_blank" rel="external"><code>eqeqeq</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (name === <span class="string">'John'</span>)   <span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">if</span> (name == <span class="string">'John'</span>)    <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (name !== <span class="string">'John'</span>)   <span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">if</span> (name != <span class="string">'John'</span>)    <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>字符串拼接操作符 (Infix operators)</strong> 之间要留空格。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/space-infix-ops" target="_blank" rel="external"><code>space-infix-ops</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">var</span> x = <span class="number">2</span></div><div class="line"><span class="keyword">var</span> message = <span class="string">'hello, '</span> + name + <span class="string">'!'</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> x=<span class="number">2</span></div><div class="line"><span class="keyword">var</span> message = <span class="string">'hello, '</span>+name+<span class="string">'!'</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>逗号后面加空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/comma-spacing" target="_blank" rel="external"><code>comma-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">var</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">greet</span> (<span class="params">name, options</span>) </span>&#123; ... &#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">greet</span> (<span class="params">name,options</span>) </span>&#123; ... &#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>else 关键字要与花括号</strong>保持在同一行。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/brace-style" target="_blank" rel="external"><code>brace-style</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">if</span> (condition) &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">if</span> (condition) &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span> &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>多行 if 语句的</strong>的括号不能省。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/curly" target="_blank" rel="external"><code>curly</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">if</span> (options.quiet !== <span class="literal">true</span>) <span class="built_in">console</span>.log(<span class="string">'done'</span>)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">if</span> (options.quiet !== <span class="literal">true</span>) &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'done'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">if</span> (options.quiet !== <span class="literal">true</span>)</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'done'</span>)</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要丢掉</strong>异常处理中<code>err</code>参数。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/handle-callback-err" target="_blank" rel="external"><code>handle-callback-err</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line">run(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">throw</span> err</div><div class="line">  <span class="built_in">window</span>.alert(<span class="string">'done'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line">run(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">  <span class="built_in">window</span>.alert(<span class="string">'done'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p><strong>使用浏览器全局变量时加上</strong> <code>window.</code> 前缀。<br>例外: <code>document</code>, <code>console</code> and <code>navigator</code>.</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-undef" target="_blank" rel="external"><code>no-undef</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.alert(<span class="string">'hi'</span>)   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不允许有连续多行空行</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-multiple-empty-lines" target="_blank" rel="external"><code>no-multiple-empty-lines</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">var</span> value = <span class="string">'hello world'</span></div><div class="line"><span class="built_in">console</span>.log(value)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> value = <span class="string">'hello world'</span></div><div class="line"> </div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(value)</div></pre></td></tr></table></figure>
</li>
<li><p><strong>对于三元运算符</strong> <code>?</code> 和 <code>:</code> 与他们所负责的代码处于同一行</p>
<p>eslint: <a href="http://eslint.org/docs/rules/operator-linebreak" target="_blank" rel="external"><code>operator-linebreak</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">var</span> location = env.development ? <span class="string">'localhost'</span> : <span class="string">'www.api.com'</span></div><div class="line"> </div><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">var</span> location = env.development</div><div class="line">  ? <span class="string">'localhost'</span></div><div class="line">  : <span class="string">'www.api.com'</span></div><div class="line"> </div><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> location = env.development ?</div><div class="line">  <span class="string">'localhost'</span> :</div><div class="line">  <span class="string">'www.api.com'</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>每个 let (const) 关键字</strong>单独声明一个变量。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/one-var" target="_blank" rel="external"><code>one-var</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">const</span> silent = <span class="literal">true</span></div><div class="line"><span class="keyword">const</span> verbose = <span class="literal">true</span></div><div class="line"> </div><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> silent = <span class="literal">true</span>, verbose = <span class="literal">true</span></div><div class="line"> </div><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> silent = <span class="literal">true</span>,</div><div class="line">  verbose = <span class="literal">true</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>条件语句中赋值语句</strong>使用括号包起来。这样使得代码更加清晰可读，而不会认为是将条件判断语句的全等号（<code>===</code>）错写成了等号（<code>=</code>）。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-cond-assign" target="_blank" rel="external"><code>no-cond-assign</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">while</span> ((m = text.match(expr))) &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">while</span> (m = text.match(expr)) &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>单行代码块两边加空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/block-spacing" target="_blank" rel="external"><code>block-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">true</span> &#125;  <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>对于变量和函数名统一使用驼峰命名法</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/camelcase" target="_blank" rel="external"><code>camelcase</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">my_function</span> (<span class="params"></span>) </span>&#123; &#125;    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span> (<span class="params"></span>) </span>&#123; &#125;     <span class="comment">// ✓ ok </span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> my_var = <span class="string">'hello'</span>           <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> myVar = <span class="string">'hello'</span>            <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>对象（数组）多行时末尾保留逗号</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/comma-dangle" target="_blank" rel="external"><code>comma-dangle</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">message</span>: <span class="string">'hello'</span>,      <span class="comment">// ✓ ok </span></div><div class="line">&#125;</div><div class="line">  </div><div class="line"><span class="keyword">var</span> oneLine = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]  <span class="comment">// ✓ ok</span></div><div class="line">  </div><div class="line"><span class="keyword">var</span> arr = &#123;</div><div class="line">  <span class="number">1</span>,</div><div class="line">  <span class="number">2</span>,</div><div class="line">  <span class="number">3</span>                      <span class="comment">// ✗ avoid</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>始终将逗号置于行末</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/comma-style" target="_blank" rel="external"><code>comma-style</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">foo</span>: <span class="string">'foo'</span></div><div class="line">  ,<span class="attr">bar</span>: <span class="string">'bar'</span>   <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">foo</span>: <span class="string">'foo'</span>,</div><div class="line">  <span class="attr">bar</span>: <span class="string">'bar'</span>,  <span class="comment">// ✓ ok </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>点号操作符须与属性需在同一行</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/dot-location" target="_blank" rel="external"><code>dot-location</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.</div><div class="line">  log(<span class="string">'hello'</span>)  <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line"><span class="built_in">console</span></div><div class="line">  .log(<span class="string">'hello'</span>) <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>文件末尾留一空行</strong>。</p>
<p>elint: <a href="http://eslint.org/docs/rules/eol-last" target="_blank" rel="external"><code>eol-last</code></a></p>
</li>
<li><p><strong>函数调用时标识符与括号间不留间隔</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/func-call-spacing" target="_blank" rel="external"><code>func-call-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log (<span class="string">'hello'</span>) <span class="comment">// ✗ avoid </span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'hello'</span>)  <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>键值对当中冒号与值之间要留空白</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/key-spacing" target="_blank" rel="external"><code>key-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123; <span class="string">'key'</span> : <span class="string">'value'</span> &#125;    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> obj = &#123; <span class="string">'key'</span> :<span class="string">'value'</span> &#125;     <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> obj = &#123; <span class="string">'key'</span>:<span class="string">'value'</span> &#125;      <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> obj = &#123; <span class="string">'key'</span>: <span class="string">'value'</span> &#125;     <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>构造函数要以大写字母开头</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/new-cap" target="_blank" rel="external"><code>new-cap</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">animal</span> (<span class="params"></span>) </span>&#123;&#125;</div><div class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> animal()    <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span> (<span class="params"></span>) </span>&#123;&#125;</div><div class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> Animal()    <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>无参的构造函数调用时要带上括号</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/new-parens" target="_blank" rel="external"><code>new-parens</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span> (<span class="params"></span>) </span>&#123;&#125;</div><div class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> Animal    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> Animal()  <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>对象中定义了存值器，一定要对应的定义取值器</strong>。</p>
<p>(LGY: <strong>避免使用 setter和getter</strong>（请使用函数）。原因请参考You Don’t Know Javascript (ES6 &amp; Beyond))</p>
<p>eslint: <a href="http://eslint.org/docs/rules/accessor-pairs" target="_blank" rel="external"><code>accessor-pairs</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">  set name (value) &#123;    <span class="comment">// ✗ avoid </span></div><div class="line">    <span class="keyword">this</span>.name = value</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">  set name (value) &#123;</div><div class="line">    <span class="keyword">this</span>.name = value</div><div class="line">  &#125;,</div><div class="line">  get name () &#123;         <span class="comment">// ✓ ok </span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>子类的构造器中一定要调用 super</strong></p>
<p>eslint: <a href="http://eslint.org/docs/rules/constructor-super" target="_blank" rel="external"><code>constructor-super</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> () &#123;</div><div class="line">    <span class="keyword">super</span>()   <span class="comment">// ✗ avoid </span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Mammal</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> () &#123;</div><div class="line">    <span class="keyword">super</span>()   <span class="comment">// ✓ ok </span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>使用数组字面量而不是构造器</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-array-constructor" target="_blank" rel="external"><code>no-array-constructor</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> nums = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)   <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]            <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免使用 arguments.callee 和 arguments.caller</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-caller" target="_blank" rel="external"><code>no-caller</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) <span class="keyword">return</span></div><div class="line"> </div><div class="line">  <span class="built_in">arguments</span>.callee(n - <span class="number">1</span>)   <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) <span class="keyword">return</span></div><div class="line"> </div><div class="line">  foo(n - <span class="number">1</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免对类名重新赋值</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-class-assign" target="_blank" rel="external"><code>no-class-assign</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;&#125;</div><div class="line">Dog = <span class="string">'Fido'</span>    <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免修改使用 const 声明的变量</strong>。</p>
<p>（LGY：尽可能的使用<strong>const</strong>, 需要修改的话，请使用 <strong>let</strong>， 避免使用 <strong>var</strong>）</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-const-assign" target="_blank" rel="external"><code>no-const-assign</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> score = <span class="number">100</span></div><div class="line">score = <span class="number">125</span>       <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免使用常量作为条件表达式的条件（循环语句除外）</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-constant-condition" target="_blank" rel="external"><code>no-constant-condition</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (<span class="literal">false</span>) &#123;    <span class="comment">// ✗ avoid </span></div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">if</span> (x === <span class="number">0</span>) &#123;  <span class="comment">// ✓ ok </span></div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;  <span class="comment">// ✓ ok </span></div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>正则中不要使用控制符</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-control-regex" target="_blank" rel="external"><code>no-control-regex</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pattern = <span class="regexp">/\x1f/</span>    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> pattern = <span class="regexp">/\x20/</span>    <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>绝不要使用 debugger</strong>。</p>
<p>（LGY：nodejs 性能优化指导（待补））</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-debugger" target="_blank" rel="external"><code>no-debugger</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">debugger</span>      <span class="comment">// ✗ avoid </span></div><div class="line">  <span class="keyword">return</span> a + b</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要对变量使用 delete 操作</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-delete-var" target="_blank" rel="external"><code>no-delete-var</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name</div><div class="line"><span class="keyword">delete</span> name     <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要定义冗余的函数参数</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-dupe-args" target="_blank" rel="external"><code>no-dupe-args</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">a, b, a</span>) </span>&#123;  <span class="comment">// ✗ avoid </span></div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">a, b, c</span>) </span>&#123;  <span class="comment">// ✓ ok </span></div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>类中不要定义冗余的属性</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-dupe-class-members" target="_blank" rel="external"><code>no-dupe-class-members</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</div><div class="line">  bark () &#123;&#125;</div><div class="line">  bark () &#123;&#125;    <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>对象字面量中不要定义重复的属性</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-dupe-keys" target="_blank" rel="external"><code>no-dupe-keys</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> user = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'Jane Doe'</span>,</div><div class="line">  <span class="attr">name</span>: <span class="string">'John Doe'</span>    <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>switch 语句中不要定义重复的 case 分支</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-duplicate-case" target="_blank" rel="external"><code>no-duplicate-case</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span> (id) &#123;</div><div class="line">  <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">    <span class="comment">// ... </span></div><div class="line">  <span class="keyword">case</span> <span class="number">1</span>:     <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>同一模块有多个导入时一次性写完</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-duplicate-imports" target="_blank" rel="external"><code>no-duplicate-imports</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; myFunc1 &#125; <span class="keyword">from</span> <span class="string">'module'</span></div><div class="line"><span class="keyword">import</span> &#123; myFunc2 &#125; <span class="keyword">from</span> <span class="string">'module'</span>          <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line"><span class="keyword">import</span> &#123; myFunc1, myFunc2 &#125; <span class="keyword">from</span> <span class="string">'module'</span> <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>正则中不要使用空字符</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-empty-character-class" target="_blank" rel="external"><code>no-empty-character-class</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> myRegex = <span class="regexp">/^abc[]/</span>      <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> myRegex = <span class="regexp">/^abc[a-z]/</span>   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要解构空值</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-empty-pattern" target="_blank" rel="external"><code>no-empty-pattern</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> &#123; <span class="attr">a</span>: &#123;&#125; &#125; = foo         <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> &#123; <span class="attr">a</span>: &#123; b &#125; &#125; = foo      <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要使用 eval()</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-eval" target="_blank" rel="external"><code>no-eval</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">eval</span>( <span class="string">"var result = user."</span> + propName ) <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">var</span> result = user[propName]             <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>catch 中不要对错误重新赋值</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-ex-assign" target="_blank" rel="external"><code>no-ex-assign</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">  e = <span class="string">'new value'</span>             <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">  <span class="keyword">const</span> newVal = <span class="string">'new value'</span>  <span class="comment">// ✓ ok </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要扩展原生对象</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-extend-native" target="_blank" rel="external"><code>no-extend-native</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.prototype.age = <span class="number">21</span>     <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免多余的函数上下文绑定</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-extra-bind" target="_blank" rel="external"><code>no-extra-bind</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> name = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  getName()</div><div class="line">&#125;.bind(user)    <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line"><span class="keyword">const</span> name = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.getName()</div><div class="line">&#125;.bind(user)    <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免不必要的布尔转换</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-extra-boolean-cast" target="_blank" rel="external"><code>no-extra-boolean-cast</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> result = <span class="literal">true</span></div><div class="line"><span class="keyword">if</span> (!!result) &#123;   <span class="comment">// ✗ avoid </span></div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">const</span> result = <span class="literal">true</span></div><div class="line"><span class="keyword">if</span> (result) &#123;     <span class="comment">// ✓ ok </span></div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要使用多余的括号包裹函数</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-extra-parens" target="_blank" rel="external"><code>no-extra-parens</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> myFunc = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;)   <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> myFunc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;     <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>switch 一定要使用 break 来将条件分支正常中断</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-fallthrough" target="_blank" rel="external"><code>no-fallthrough</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span> (filter) &#123;</div><div class="line">  <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">    doSomething()    <span class="comment">// ✗ avoid </span></div><div class="line">  <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">    doSomethingElse()</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">switch</span> (filter) &#123;</div><div class="line">  <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">    doSomething()</div><div class="line">    <span class="keyword">break</span>           <span class="comment">// ✓ ok </span></div><div class="line">  <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">    doSomethingElse()</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">switch</span> (filter) &#123;</div><div class="line">  <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">    doSomething()</div><div class="line">    <span class="comment">// fallthrough  // ✓ ok </span></div><div class="line">  <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">    doSomethingElse()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要省去小数点前面的0</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-floating-decimal" target="_blank" rel="external"><code>no-floating-decimal</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> discount = <span class="number">.5</span>      <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> discount = <span class="number">0.5</span>     <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免对声明过的函数重新赋值</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-func-assign" target="_blank" rel="external"><code>no-func-assign</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span> (<span class="params"></span>) </span>&#123; &#125;</div><div class="line">myFunc = myOtherFunc    <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要对全局只读对象重新赋值</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-global-assign" target="_blank" rel="external"><code>no-global-assign</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span> = &#123;&#125;     <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>注意隐式的 eval()</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-implied-eval" target="_blank" rel="external"><code>no-implied-eval</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">setTimeout(<span class="string">"alert('Hello world')"</span>)                   <span class="comment">// ✗ avoid </span></div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert(<span class="string">'Hello world'</span>) &#125;)     <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>嵌套的代码块中禁止再定义函数</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-inner-declarations" target="_blank" rel="external"><code>no-inner-declarations</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (authenticated) &#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setAuthUser</span> (<span class="params"></span>) </span>&#123;&#125;    <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要向 RegExp 构造器传入非法的正则表达式</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-invalid-regexp" target="_blank" rel="external"><code>no-invalid-regexp</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">RegExp</span>(<span class="string">'[a-z'</span>)    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="built_in">RegExp</span>(<span class="string">'[a-z]'</span>)   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要使用非法的空白符</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-irregular-whitespace" target="_blank" rel="external"><code>no-irregular-whitespace</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span> (<span class="params"></span>) /*&lt;<span class="title">NBSP</span>&gt;*/</span>&#123;&#125;   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止使用 <strong>iterator</strong></strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-iterator" target="_blank" rel="external"><code>no-iterator</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Foo.prototype.__iterator__ = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>外部变量不要与对象属性重名</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-label-var" target="_blank" rel="external"><code>no-label-var</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> score = <span class="number">100</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">game</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  score: <span class="number">50</span>         <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要使用标签语句</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-labels" target="_blank" rel="external"><code>no-labels</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">label:</div><div class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</div><div class="line">    <span class="keyword">break</span> label     <span class="comment">// ✗ avoid </span></div><div class="line">  &#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要书写不必要的嵌套代码块</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-lone-blocks" target="_blank" rel="external"><code>no-lone-blocks</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  &#123;                   <span class="comment">// ✗ avoid </span></div><div class="line">    myOtherFunc()</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  myOtherFunc()       <span class="comment">// ✓ ok </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要混合使用空格与制表符作为缩进</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-mixed-spaces-and-tabs" target="_blank" rel="external"><code>no-mixed-spaces-and-tabs</code></a></p>
</li>
<li><p><strong>除了缩进，不要使用多个空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-multi-spaces" target="_blank" rel="external"><code>no-multi-spaces</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> id =    <span class="number">1234</span>    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> id = <span class="number">1234</span>       <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要使用多行字符串</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-multi-str" target="_blank" rel="external"><code>no-multi-str</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> message = <span class="string">'Hello \</span></div><div class="line">                 world'     <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>new 创建对象实例后需要赋值给变量</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-new" target="_blank" rel="external"><code>no-new</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Character()                     <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> character = <span class="keyword">new</span> Character()   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止使用 Function 构造器</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-new-func" target="_blank" rel="external"><code>no-new-func</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'return a + b'</span>)    <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止使用 Object 构造器</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-new-object" target="_blank" rel="external"><code>no-new-object</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> config = <span class="keyword">new</span> <span class="built_in">Object</span>()   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止使用 new require</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-new-require" target="_blank" rel="external"><code>no-new-require</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> myModule = <span class="keyword">new</span> <span class="built_in">require</span>(<span class="string">'my-module'</span>)    <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止使用 Symbol 构造器</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-new-symbol" target="_blank" rel="external"><code>no-new-symbol</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> foo = <span class="keyword">new</span> <span class="built_in">Symbol</span>(<span class="string">'foo'</span>)   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止使用原始包装器</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-new-wrappers" target="_blank" rel="external"><code>no-new-wrappers</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> message = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>)   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要将全局对象的属性作为函数调用</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-obj-calls" target="_blank" rel="external"><code>no-obj-calls</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> math = <span class="built_in">Math</span>()   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要使用八进制字面量</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-octal" target="_blank" rel="external"><code>no-octal</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> num = <span class="number">042</span>     <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> num = <span class="string">'042'</span>   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>字符串字面量中也不要使用八进制转义字符</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-octal-escape" target="_blank" rel="external"><code>no-octal-escape</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> copyright = <span class="string">'Copyright \251'</span>  <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>使用 <strong>dirname 和 </strong>filename 时尽量避免使用字符串拼接</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-path-concat" target="_blank" rel="external"><code>no-path-concat</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> pathToFile = __dirname + <span class="string">'/app.js'</span>            <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> pathToFile = path.join(__dirname, <span class="string">'app.js'</span>)   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p>使用 <code>getPrototypeOf</code> 来替代 <strong><strong>proto</strong></strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-proto" target="_blank" rel="external"><code>no-proto</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> foo = obj.__proto__               <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> foo = <span class="built_in">Object</span>.getPrototypeOf(obj)  <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要重复声明变量</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-redeclare" target="_blank" rel="external"><code>no-redeclare</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name = <span class="string">'John'</span></div><div class="line"><span class="keyword">let</span> name = <span class="string">'Jane'</span>     <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line"><span class="keyword">let</span> name = <span class="string">'John'</span></div><div class="line">name = <span class="string">'Jane'</span>         <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>正则中避免使用多个空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-regex-spaces" target="_blank" rel="external"><code>no-regex-spaces</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> regexp = <span class="regexp">/test   value/</span>   <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line"><span class="keyword">const</span> regexp = <span class="regexp">/test &#123;3&#125;value/</span>  <span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">const</span> regexp = <span class="regexp">/test value/</span>     <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>return 语句中的赋值必需有括号包裹</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-return-assign" target="_blank" rel="external"><code>no-return-assign</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> result = a + b     <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> (result = a + b)   <span class="comment">// ✓ ok </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免将变量赋值给自己</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-self-assign" target="_blank" rel="external"><code>no-self-assign</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">name = name   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免将变量与自己进行比较操作</strong>。</p>
<p>esint: <a href="http://eslint.org/docs/rules/no-self-compare" target="_blank" rel="external"><code>no-self-compare</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (score === score) &#123;&#125;   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免使用逗号操作符</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-sequences" target="_blank" rel="external"><code>no-sequences</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (doSomething(), !!test) &#123;&#125;   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要随意更改关键字的值</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-shadow-restricted-names" target="_blank" rel="external"><code>no-shadow-restricted-names</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="literal">undefined</span> = <span class="string">'value'</span>     <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止使用稀疏数组（Sparse arrays）</strong>。</p>
<p>（LGY，例子中其实不是 <strong>Sparse Array</strong>)</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-sparse-arrays" target="_blank" rel="external"><code>no-sparse-arrays</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> fruits = [<span class="string">'apple'</span>,, <span class="string">'orange'</span>]       <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>不要使用制表符</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-tabs" target="_blank" rel="external"><code>no-tabs</code></a></p>
</li>
<li><p><strong>正确使用 ES6 中的字符串模板</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-template-curly-in-string" target="_blank" rel="external"><code>no-template-curly-in-string</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> message = <span class="string">'Hello $&#123;name&#125;'</span>   <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> message = <span class="string">`Hello <span class="subst">$&#123;name&#125;</span>`</span>   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>使用 this 前请确保 super() 已调用</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-this-before-super" target="_blank" rel="external"><code>no-this-before-super</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> () &#123;</div><div class="line">    <span class="keyword">this</span>.legs = <span class="number">4</span>     <span class="comment">// ✗ avoid </span></div><div class="line">    <span class="keyword">super</span>()</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>用 throw 抛错时，抛出 Error 对象而不是字符串</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-throw-literal" target="_blank" rel="external"><code>no-throw-literal</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">throw</span> <span class="string">'error'</span>               <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'error'</span>)    <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>行末不留空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-trailing-spaces" target="_blank" rel="external"><code>no-trailing-spaces</code></a></p>
</li>
<li><p><strong>不要使用 undefined 来初始化变量</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-undef-init" target="_blank" rel="external"><code>no-undef-init</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name = <span class="literal">undefined</span>    <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line"><span class="keyword">let</span> name</div><div class="line">name = <span class="string">'value'</span>          <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>循环语句中注意更新循环变量</strong>。</p>
<p>(LGY: length <strong>不用缓存</strong>)</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-unmodified-loop-condition" target="_blank" rel="external"><code>no-unmodified-loop-condition</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; j++) &#123;...&#125;    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;...&#125;    <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>如果有更好的实现，尽量不要使用三元表达式</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-unneeded-ternary" target="_blank" rel="external"><code>no-unneeded-ternary</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> score = val ? val : <span class="number">0</span>     <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">let</span> score = val || <span class="number">0</span>          <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>return，throw，continue 和 break 后不要再跟代码</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-unreachable" target="_blank" rel="external"><code>no-unreachable</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'never called'</span>)     <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>finally 代码块中不要再改变程序执行流程</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-unsafe-finally" target="_blank" rel="external"><code>no-unsafe-finally</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">  <span class="comment">// ... </span></div><div class="line">&#125; <span class="keyword">finally</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="number">42</span>     <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>关系运算符的左值不要做取反操作</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-unsafe-negation" target="_blank" rel="external"><code>no-unsafe-negation</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!key <span class="keyword">in</span> obj) &#123;&#125;       <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免不必要的 .call() 和 .apply()</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-useless-call" target="_blank" rel="external"><code>no-useless-call</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sum.call(<span class="literal">null</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)   <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>避免使用不必要的计算值作对象属性</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-useless-computed-key" target="_blank" rel="external"><code>no-useless-computed-key</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> user = &#123; [<span class="string">'name'</span>]: <span class="string">'John Doe'</span> &#125;   <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> user = &#123; <span class="attr">name</span>: <span class="string">'John Doe'</span> &#125;       <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止多余的构造器</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-useless-constructor" target="_blank" rel="external"><code>no-useless-constructor</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> () &#123;      <span class="comment">// ✗ avoid </span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止不必要的转义</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-useless-escape" target="_blank" rel="external"><code>no-useless-escape</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> message = <span class="string">'Hell\o'</span>  <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>import, export 和解构操作中，禁止赋值到同名变量</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-useless-rename" target="_blank" rel="external"><code>no-useless-rename</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; config <span class="keyword">as</span> config &#125; <span class="keyword">from</span> <span class="string">'./config'</span>     <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">import</span> &#123; config &#125; <span class="keyword">from</span> <span class="string">'./config'</span>               <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>属性前面不要加空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-whitespace-before-property" target="_blank" rel="external"><code>no-whitespace-before-property</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">user .name      <span class="comment">// ✗ avoid </span></div><div class="line">user.name       <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>禁止使用 with</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/no-with" target="_blank" rel="external"><code>no-with</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> (val) &#123;...&#125;    <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>对象属性换行时注意统一代码风格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/object-property-newline" target="_blank" rel="external"><code>object-property-newline</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> user = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'Jane Doe'</span>, <span class="attr">age</span>: <span class="number">30</span>,</div><div class="line">  <span class="attr">username</span>: <span class="string">'jdoe86'</span>            <span class="comment">// ✗ avoid </span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">const</span> user = &#123; <span class="attr">name</span>: <span class="string">'Jane Doe'</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">username</span>: <span class="string">'jdoe86'</span> &#125;    <span class="comment">// ✓ ok </span></div><div class="line"> </div><div class="line"><span class="keyword">const</span> user = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'Jane Doe'</span>,</div><div class="line">  <span class="attr">age</span>: <span class="number">30</span>,</div><div class="line">  <span class="attr">username</span>: <span class="string">'jdoe86'</span>,</div><div class="line">&#125;                                                                 <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>代码块中避免多余留白</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/padded-blocks" target="_blank" rel="external"><code>padded-blocks</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (user) &#123;</div><div class="line">                            <span class="comment">// ✗ avoid </span></div><div class="line">  <span class="keyword">const</span> name = getName()</div><div class="line"> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="keyword">if</span> (user) &#123;</div><div class="line">  <span class="keyword">const</span> name = getName()    <span class="comment">// ✓ ok </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>展开运算符与它的表达式间不要留空白</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/rest-spread-spacing" target="_blank" rel="external"><code>rest-spread-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">fn(... args)    <span class="comment">// ✗ avoid </span></div><div class="line">fn(...args)     <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>遇到分号时空格要后留前不留</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/semi-spacing" target="_blank" rel="external"><code>semi-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> ;i &lt; items.length ;i++) &#123;...&#125;    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;...&#125;    <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>代码块首尾留空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/space-before-blocks" target="_blank" rel="external"><code>space-before-blocks</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (admin)&#123;...&#125;     <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">if</span> (admin) &#123;...&#125;    <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>圆括号间不留空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/space-in-parens" target="_blank" rel="external"><code>space-in-parens</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">getName( name )     <span class="comment">// ✗ avoid </span></div><div class="line">getName(name)       <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>一元运算符后面跟一个空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/space-unary-ops" target="_blank" rel="external"><code>space-unary-ops</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typeof</span>!admin        <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">typeof</span> !admin        <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>注释首尾留空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/spaced-comment" target="_blank" rel="external"><code>spaced-comment</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//comment           // ✗ avoid </span></div><div class="line"><span class="comment">// comment          // ✓ ok </span></div><div class="line"> </div><div class="line"><span class="comment">/*comment*/</span>         <span class="comment">// ✗ avoid </span></div><div class="line"><span class="comment">/* comment */</span>       <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>模板字符串中变量前后不加空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/template-curly-spacing" target="_blank" rel="external"><code>template-curly-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> message = <span class="string">`Hello, <span class="subst">$&#123; name &#125;</span>`</span>    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">const</span> message = <span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>`</span>      <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>检查 NaN 的正确姿势是使用 isNaN()</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/use-isnan" target="_blank" rel="external"><code>use-isnan</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (price === <span class="literal">NaN</span>) &#123; &#125;         <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">if</span> (<span class="built_in">Number</span>.isNaN(price)) &#123; &#125;   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>用合法的字符串跟 typeof 进行比较操作</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/valid-typeof" target="_blank" rel="external"><code>valid-typeof</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typeof</span> name === <span class="string">'undefimed'</span>     <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">typeof</span> name === <span class="string">'undefined'</span>     <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>自调用匿名函数 (IIFEs) 使用括号包裹</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/wrap-iife" target="_blank" rel="external"><code>wrap-iife</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;()     <span class="comment">// ✗ avoid </span></div><div class="line"> </div><div class="line"><span class="keyword">const</span> getName = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;())   <span class="comment">// ✓ ok </span></div><div class="line"><span class="keyword">const</span> getName = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;)()   <span class="comment">// ✓ ok   (推荐)</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>yield * 中的 * 前后都要有空格</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/yield-star-spacing" target="_blank" rel="external"><code>yield-star-spacing</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">yield</span>* increment()    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">yield</span> * increment()   <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>请书写优雅的条件语句（avoid Yoda conditions）</strong>。</p>
<p>eslint: <a href="http://eslint.org/docs/rules/yoda" target="_blank" rel="external"><code>yoda</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (<span class="number">42</span> === age) &#123; &#125;    <span class="comment">// ✗ avoid </span></div><div class="line"><span class="keyword">if</span> (age === <span class="number">42</span>) &#123; &#125;    <span class="comment">// ✓ ok</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="关于分号"><a href="#关于分号" class="headerlink" title="关于分号"></a><a href="https://standardjs.com/rules-zhcn.html#关于分号" target="_blank" rel="external">关于分号</a></h2><ul>
<li><p>不要使用分号。 (参见：<a href="http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding" target="_blank" rel="external">1</a>，<a href="http://inimino.org/~inimino/blog/javascript_semicolons" target="_blank" rel="external">2</a>，<a href="https://www.youtube.com/watch?v=gsfbh17Ax9I" target="_blank" rel="external">3</a>)</p>
<p>eslint: <a href="http://eslint.org/docs/rules/semi" target="_blank" rel="external"><code>semi</code></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.alert(<span class="string">'hi'</span>)   <span class="comment">// ✓ ok </span></div><div class="line"><span class="built_in">window</span>.alert(<span class="string">'hi'</span>);  <span class="comment">// ✗ avoid</span></div></pre></td></tr></table></figure>
</li>
<li><p>不要使用 <code>(</code>, <code>[</code>, or <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">eslint: [`no-unexpected-multiline`](http://eslint.org/docs/rules/no-unexpected-multiline)</div><div class="line"></div><div class="line">```javascript</div><div class="line">// ✓ ok </div><div class="line">;(function () &#123;</div><div class="line">  window.alert(&apos;ok&apos;)</div><div class="line">&#125;())</div><div class="line"> </div><div class="line">// ✗ avoid </div><div class="line">(function () &#123;</div><div class="line">  window.alert(&apos;ok&apos;)</div><div class="line">&#125;())</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line">;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach(bar)</div><div class="line"> </div><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach(bar)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ✓ ok </span></div><div class="line">;<span class="string">`hello`</span>.indexOf(<span class="string">'o'</span>)</div><div class="line"> </div><div class="line"><span class="comment">// ✗ avoid </span></div><div class="line"><span class="string">`hello`</span>.indexOf(<span class="string">'o'</span>)</div></pre></td></tr></table></figure>
<p>备注：上面的写法只能说聪明过头了。</p>
<p>相比更加可读易懂的代码，那些看似投巧的写法是不可取的。</p>
<p>譬如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach(bar)</div></pre></td></tr></table></figure>
<p>建议的写法是：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">nums.forEach(bar)</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="拓展阅读"><a href="#拓展阅读" class="headerlink" title="拓展阅读"></a><a href="https://standardjs.com/rules-zhcn.html#拓展阅读" target="_blank" rel="external">拓展阅读</a></h2><ul>
<li><a href="http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding" target="_blank" rel="external">An Open Letter to JavaScript Leaders Regarding Semicolons</a></li>
<li><a href="http://inimino.org/~inimino/blog/javascript_semicolons" target="_blank" rel="external">JavaScript Semicolon Insertion – Everything you need to know</a></li>
</ul>
<h5 id="一个值得观看的视频："><a href="#一个值得观看的视频：" class="headerlink" title="一个值得观看的视频："></a><a href="https://standardjs.com/rules-zhcn.html#一个值得观看的视频：" target="_blank" rel="external">一个值得观看的视频：</a></h5><ul>
<li><a href="https://www.youtube.com/watch?v=gsfbh17Ax9I" target="_blank" rel="external">JavaScript 中的分号多余吗？- YouTube</a></li>
</ul>
<p>当前主流的代码压缩方案都是基于词法（AST-based）进行的，所以在处理无分号的代码时完全没有压力（何况 JavaScript 中分号本来就不是强制的）。</p>
<h5 id="一段摘抄自-“An-Open-Letter-to-JavaScript-Leaders-Regarding-Semicolons”-这篇文章的内容："><a href="#一段摘抄自-“An-Open-Letter-to-JavaScript-Leaders-Regarding-Semicolons”-这篇文章的内容：" class="headerlink" title="一段摘抄自 “An Open Letter to JavaScript Leaders Regarding Semicolons” 这篇文章的内容："></a>一段摘抄自 <em>“An Open Letter to JavaScript Leaders Regarding Semicolons”</em> 这篇文章的内容：</h5><blockquote>
<p>[自动化插入分号的做法]是安全可依赖的，而且其产出的代码能够在所有浏览器里很好地运行。 Closure compiler, yuicompressor, packer 还有 jsmin 都能正确地对这样的代码进行压缩处理。并没有任何性能相关的问题。</p>
<p>不得不说，Javascript 社区里的大牛们一直是错误的，并不能教给你最佳实践。真是让人忧伤啊。 我建议先弄清楚 JS 是怎样断句的（还有就是哪些地方看起来断了其实并没有），明白了这个后就可以随心写出漂亮的代码了。</p>
<p>一般来说， <code>\n</code> 表示语句结束，除非：</p>
<ol>
<li>该语句有未闭合的括号， 数组字面量， 对象字面量 或者其他不能正常结束一条语句的情况（譬如，以 <code>.</code> 或 <code>,</code> 结尾）</li>
<li>该语句是 <code>--</code> 或者 <code>++</code> （它会将后面的内容进行自增或减）</li>
<li>该语句是 <code>for()</code>，<code>while()</code>，<code>do</code>，<code>if()</code> 或者 <code>else</code> 并且没有 <code>{</code></li>
<li>下一行以 <code>[</code>，<code>(</code>，<code>+</code>，<code>*</code>，<code>/</code>，<code>-</code>，<code>,</code>，<code>.</code> 或者其他只会单独出现在两块内容间的二元操作符。</li>
</ol>
<p>第一条很容易理解。即使在 JSLint 中，也允许 JSON，构造器的括号中，以及使用 <code>var</code>配合 <code>,</code> 结尾来声明多个变量等这些情中包含 <code>\n</code>。</p>
<p>第二条有点奇葩。 我还想不出谁会（除了这里用作讨论外）写出 <code>i\n++\nj</code> 这样的代码来，不过，顺便说一下，这种写法最后解析的结果是 <code>i; ++j</code>，而不是 <code>i++; j</code>。</p>
<p>第三条也容易理解。 <code>if (x)\ny()</code> 等价于 <code>if (x) { y() }</code>。解释器会向下寻找到代码块或一条语句为止。</p>
<p><code>;</code> 是条合法的 JavaScript 语句。所以 <code>if(x);</code> 等价于 <code>if(x){}</code>，表示 “如果 x 为真，什么也不做。” 这种写法在循环里面可以看到，就是当条件判断与条件更新是同一个方法的时候。 不常见，但也不至于没听说过吧。</p>
<p>第四条就是常见的 “看，说过要加分号！” 的情形。但这些情况可以通过在语句前面加上分号来解决，如果你确定该语句跟前面的没关系的话。举个例子，假如你想这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; foo();</div><div class="line">&gt; [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].forEach(bar);</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>那么完全可以这样来写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; foo()</div><div class="line">&gt; ;[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].forEach(bar)</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>后者的好处是分号比较瞩目，一旦习惯后便再也不会看到以 <code>(</code> 和 <code>[</code> 开头又不带分号的语句了。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="王云甫 & 金卫娜 & 李光耀" />
          <p class="site-author-name" itemprop="name">王云甫 & 金卫娜 & 李光耀</p>
           
              <p class="site-description motion-element" itemprop="description">GZQ Official Team</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">王云甫 & 金卫娜 & 李光耀</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  
    

    
  





  






  





  

  

  

  

  

  

</body>
</html>
